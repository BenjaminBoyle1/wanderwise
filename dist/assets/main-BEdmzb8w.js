import{i as E}from"./include-BTc5-h4F.js";E("/partials/header.html","header");E("/partials/footer.html","footer");const I="AIzaSyA0xhFPKWlKP_VYw5_VI0_RWAZYHZsIVKE";let c,d=[],r=null,y,s="";const i=document.getElementById("trip-list"),m=document.getElementById("trip-form"),o=document.getElementById("trip-title"),h=document.getElementById("save-trip-btn"),k=document.getElementById("floating-add-trip");function _(){return new Promise((n,t)=>{if(window.google&&window.google.maps)return n();const e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${I}&libraries=marker`,e.async=!0,e.defer=!0,e.onload=n,e.onerror=t,document.head.appendChild(e)})}window.addEventListener("load",async()=>{await _(),L()});function L(){c=new google.maps.Map(document.getElementById("map"),{center:{lat:20,lng:0},zoom:2}),y=new google.maps.Geocoder,c.addListener("click",n=>{r=n.latLng,m.style.display="block",o.value="Loading location name...",s="",y.geocode({location:r},(t,e)=>{if(e==="OK"&&t[0]){const a=t[0].address_components;let g="",u="",f="";a.forEach(l=>{l.types.includes("locality")&&(g=l.long_name),l.types.includes("administrative_area_level_1")&&(u=l.short_name),l.types.includes("country")&&(f=l.long_name)});const v=[g,u||f].filter(Boolean).join(", ");o.value=v||t[0].formatted_address,s=t[0].formatted_address}else o.value="",s=""})}),p()}k.addEventListener("click",()=>{r=null,o.value="",s="",m.style.display="block",o.focus()});h.addEventListener("click",()=>{const n=o.value.trim();if(!n)return;const t=r?{lat:r.lat(),lng:r.lng()}:{lat:0,lng:0},e=JSON.parse(localStorage.getItem("trips"))||[];e.push({name:n,coords:t,fullAddress:s}),localStorage.setItem("trips",JSON.stringify(e)),o.value="",s="",m.style.display="none",p()});function S(n){const{AdvancedMarkerElement:t}=google.maps.marker,e=document.createElement("div");e.className="advanced-marker",e.textContent=n.name;const a=new t({map:c,position:n.coords,content:e});d.push(a)}function w(){d.forEach(n=>n.map=null),d=[]}function p(){const n=JSON.parse(localStorage.getItem("trips"))||[];i.innerHTML="",w(),n.forEach((t,e)=>{const a=document.createElement("li");a.innerHTML=`
      <span>📍 ${t.name}</span>
      <button class="btn btn-sm danger" data-index="${e}">Remove</button>
    `,i.appendChild(a),S(t)}),i.querySelectorAll("button").forEach(t=>{t.addEventListener("click",()=>{const e=parseInt(t.getAttribute("data-index")),a=JSON.parse(localStorage.getItem("trips"))||[];a.splice(e,1),localStorage.setItem("trips",JSON.stringify(a)),p()})})}
